import {Component, computed, Input, signal} from '@angular/core';
import {NgStyle} from '@angular/common';
import {SelectedButtonService} from '../../services/selected-button.service';

@Component({
  selector: 'app-primary-button',
  imports: [
    NgStyle
  ],
  templateUrl: './primary-button.component.html',
  styleUrl: './primary-button.component.css'
})
export class PrimaryButtonComponent {
  @Input() name : string = 'PrÃ©sentation';
  @Input() buttonId : string = '';

  currentColor: string = '#F14237';



  constructor(private selectedButtonService: SelectedButtonService) {

  }

  isSelected = computed(() => this.selectedButtonService.selectedButtonId() === this.buttonId);


  onButtonClick() {
    this.selectedButtonService.deselectAll();
    this.selectedButtonService.selectedButtonId.set(this.buttonId);

    if (this.isSelected()) {
      this.currentColor = '#F14237';
    } else {
      this.selectedButtonService.selectButton(this.buttonId);
      this.currentColor = '#000000';
    }
  }
}
